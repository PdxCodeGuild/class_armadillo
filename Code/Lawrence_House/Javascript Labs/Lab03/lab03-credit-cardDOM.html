<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Credit Card Validation</title>
    <style>
        body {
            background-color: rgb(58, 58, 99);
        }
    </style>
</head>

<body>
    <h1>CCV App -NOT A SCAM-</h1>

    <h2>Enter your number to be validated</h2>
    <input type="text" id="cc_digit" placeholder="Card Number" />
    <button id="check">click</button>
    <script>

        let submit = document.querySelector('#check');
        submit.addEventListener('click', function () {
            // Slice off the last digit. that is the check digit
            let cc_digits = document.getElementById('cc_digit').value.split('').map(function (item) {
                return parseInt(item, 10);
            });
            let check_digit = cc_digits.pop(-1);

            // Reverse the digits
            cc_digits.reverse()

            // Double every other element in the reversed list.

            for (let i = 0; i < cc_digits.length; i += 2) {
                cc_digits[i] *= 2
            }

            // Subtract nine from numbers over 9

            for (let i = 0; i < cc_digits.length; ++i) {
                if (cc_digits[i] > 9) {
                    cc_digits[i] -= 9
                }
            }

            // Sum all values

            var sum = 0
            for (var i = 0; i < cc_digits.length; i++) {
                sum += cc_digits[i]
            }

            cc_digits = sum

            // Take the second digit of that sum.

            let last_check = cc_digits % 10

            // if that matches the check digit, the whole card number is valid

            if (check_digit == last_check) {
                alert('valid')
            } else {
                alert('invalid')
            }

        })


    </script>
</body>

</html>
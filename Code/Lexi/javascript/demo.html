<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
 <!-- external library - put in head -->
 <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/7.0.1/math.min.js"></script>

    <title>Document</title>
</head>
<body>
    <div class="holding_form">
        <form action="#">
           
            <p>
              <label>
                <input type="checkbox" class="filled-in" checked="checked" />
                <span>Is this game cool or what?</span>
              </label>
            </p>
           
        <!--text box-->
        <input id="user_choice" type="text" placeholder="enter 'r', 'p', or 's' to play then Right Click>Inspect>Console to see results!"/>
        <!--submit button needing an EventListener-->
        <button id="btn_user_choice" type="submit">Submit</button>
        </form>
    </div>
    <script>
        // START JS
        function RPS(){
        let user_choice = document.querySelector('#user_choice')
        let btn_user_choice = document.querySelector('#btn_user_choice')
        let array = ['r', 'p', 's']
        //console.log(beasts.indexOf('giraffe'));
        let user_choice_value = user_choice.value
        user_index = array.indexOf(user_choice.value)
        console.log(user_choice_value)
       
        // a great formula from user c0derabbit
        // Troy's suggestion Math.max(gives max)
        // let comp = [Math.max(Math.random() * array.length)]
        // let comp = [Math.floor(Math.random() * array.length)]
        //https://www.w3schools.com/js/js_random.asp
        let comp = Math.floor(Math.random() * 3)
        // Javascript logic
        let username = prompt("Step 1: What do your opponents call you?")
        result = (`${username} selected: ${user_index} and computer selected: ${comp}`)
        // declaring a variable for the array so that the computer can choose
        console.log(result)
        if (user_index === comp) {
            console.log('\'tis a tie, and not the kind one wears')
        }
        else if (user_index === (comp+1)%3) {
            console.log('Thou winneth Biggeth in Minas Tirith')
        }
        else {
            console.log('computer powns the day, per the usual')
        }
        //add eventListener
        btn_user_choice.addEventListener('click', function(evt) {
        
            // let user_choice = user_choice.value
            // let comp = comp.value
            // let result = result.value
        })
        alert(`${username}, thank you for playing Rock, Paper, Scissors!`)
        }
        RPS()
    </script>
</body>
</html>
<!--mistakes made: 1. placed script before html - Jon explained to put it below, 2. got formula from https://gist.github.com/c0derabbit/9ad0c77f2713de58fa1c4c0e74199d33, 3. 'Console' stopped working in dev firefox after I checked a dialog box, but it works smoothly in chrome-->
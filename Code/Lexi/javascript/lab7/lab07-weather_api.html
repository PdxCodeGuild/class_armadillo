<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"></script>
    <script src="secrets.js"></script>
    <title>Weather API</title>
</head>
<body>
    <script>
        navigator.geolocation.getCurrentPosition(position => {
            let user_lat = position.coords.latitude
            let user_lon = position.coords.longitude
            const user_loc = [user_lat, user_lon]
        
        var position_url = (`http://api.positionstack.com/v1/reverse?access_key=${position_api_key}&query=${user_loc[0]},${user_loc[1]}`)
         axios({
                method: 'get',
                url: position_url,
            }).then(response => {
                // weatherLocation.innerText = location
                console.log(location)
            })
            var weather_url = (`https://api.openweathermap.org/data/2.5/onecall?lat=${user_loc[0]}&lon=${user_loc[1]}&exclude=hourly,daily&appid=${weather_api_key}`)
                axios({
                    method: 'get',
                    url: weather_url,
                }).then(response => {
                    console.log(response.data)
                })
            })
        function format_lat_long(latitude, longitude) {
    let r = '';
    if (latitude < 0) {
        r += (-latitude)+'S';
    } else{
        r += latitude+'N';
    }
    r += ',';
    if (longitude < 0) {
        r += (-longitude)+'W';
    } else{
        r += longitude+'E';
    }
    return r;
}
    </script>
</body>
</html>
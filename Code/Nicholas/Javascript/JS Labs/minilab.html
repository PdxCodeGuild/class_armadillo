<!-- Minilab Mobbed by: Matthew, Adam, Bobby, Kyle, Lawrence, and Nick^2
Let's get some practice working with complex data structures. Copy-paste the data structure below into a minilab.html file and extract the relevant information from it. The books on each of the users is an array of integers representing the indices of their favorite books in the books array.

Problem 1: What is the name of the library?

Problem 2: How many library users are there?

Problem 3: What is the average age of the library users?

Problem 4: What is the oldest book? (print the name and year)
//Challenge Problem: 
Problem 5: Using a for loop, print out each user and the names of each of their favorite books, e.g.

Jane Smith
    A Wrinkle in Time
    The Odyssey
    The Divine Comedy
Wendy Carson
    A Wrinkle in Time
    The Giving Tree
...
Problem 6 (optional/challenge) What is the most favorited book? (print the name and the number of users that like it)
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minilab</title>
</head>

<body>

    <script>
        let library = {
            meta: {
                name: 'A Little Library',
                description: 'practice for working with complex data'
            },
            users: [{
                first_name: 'Jane',
                last_name: 'Smith',
                age: 24,
                favorite_books: [0, 2, 3]
            }, {
                first_name: 'Wendy',
                last_name: 'Carson',
                age: 56,
                favorite_books: [0, 1]
            }, {
                first_name: 'Brian',
                last_name: 'Barber',
                age: 12,
                favorite_books: [1]
            }, {
                first_name: 'Alyssa',
                last_name: 'Lyons',
                age: 34,
                favorite_books: [1, 2]
            }],
            books: [{
                title: 'A Wrinkle in Time',
                author: 'Madeleine L\'Engle',
                published: 1962
            }, {
                title: 'The Giving Tree',
                author: 'Shel Silverstein',
                published: 1964
            }, {
                title: 'The Odyssey',
                author: 'Homer',
                published: -800
            }, {
                title: 'The Divine Comedy',
                author: 'Dante Alighieri',
                published: 1320
            }]
        }

        // console.log(library)

        //Problem 1
        // console.log(library.meta.name)

        //Problem 2
        // console.log(library.users.length)


        //Problem 3
        // let num_users=library.users.length
        // console.log(num_users)
        // console.log(library.users[0].age)
        // let average_age=0
        // for(let i=0; i<num_users; i++){
        //     console.log(library.users[i].age)
        //     average_age+=library.users[i].age

        // }
        // average_age/=num_users
        // console.log(average_age)


        //Problem 4
        // let published_dates=[]
        // for(let i=0; i<library.books.length; i++){
        //     console.log(library.books[i].published)
        //     published_dates.push(library.books[i].published)
        // }
        // published_dates.sort((a,b)=>a-b)
        // let earliest_year=published_dates[0]
        // for(let i=0; i<library.books.length; i++){
        //     if(library.books[i].published==earliest_year){
        //         let oldest_book=library.books[i].title
        //         console.log(oldest_book)
        //     }
        // }
        // // console.log(library.books[0].published)

        //Problem 5
        // let book=library.users[3]
        for(let i=0; i<library.users.length; i++){
            // console.log(library.users[i])
            let first_name=library.users[i].first_name
            let last_name=library.users[i].last_name
            console.log(first_name +" "+ last_name)
            // console.log(library.users[i].favorite_books)
            for(let b=0; b<library.users[i].favorite_books.length; b++){
                let favorite_book_index=library.users[i].favorite_books[b]
                console.log(library.books[favorite_book_index].title)
            }
            
        }
        

    </script>
</body>

</html>